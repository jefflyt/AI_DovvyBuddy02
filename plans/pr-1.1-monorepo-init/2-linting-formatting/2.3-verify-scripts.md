# Step 2.3: Verify Linting & Formatting Scripts

**Part of:** Step 2 from plan.md  
**Focus:** Test all npm scripts for linting, formatting, and type-checking  
**File to Verify:** `package.json` (root - scripts already added in Step 1.1)  
**Estimated Time:** 10 minutes

## Overview

This substep verifies that all npm scripts defined in Step 1.1 work correctly with the ESLint and Prettier configurations created in Steps 2.1 and 2.2.

## Pre-Substep Checklist

- [ ] **Branch:** Working on `1.1-monorepo-init`
- [ ] **Prior Step:** Completed Step 2.2 (Prettier configured)
- [ ] **Verification:** `.eslintrc.js` and `.prettierrc.js` exist

## Implementation

### Goal
Verify all npm scripts (lint, format, type-check) execute correctly.

### Step-by-Step Instructions

#### Step 1: Verify Lint Script
- [ ] Run lint script:

```bash
npm run lint
```

Expected output: No files to lint (workspaces don't exist yet) OR lints successfully

- [ ] Run lint with auto-fix:

```bash
npm run lint:fix
```

Expected output: No errors

#### Step 2: Verify Format Scripts
- [ ] Run format check:

```bash
npm run format:check
```

Expected output: All matched files passed formatting check

- [ ] Run format (auto-fix):

```bash
npm run format
```

Expected output: Files formatted successfully

#### Step 3: Verify Type-Check Script
- [ ] Run type-check:

```bash
npm run type-check
```

Expected output: No workspaces with type-check script yet (this is normal)

#### Step 4: Create Test File to Verify Tooling
- [ ] Create a temporary test file to verify ESLint and Prettier work together:

```bash
mkdir -p test-temp
cat > test-temp/test.ts << 'EOF'
const foo={bar:1,baz:2}
const unused = "test"
console.log(foo)
EOF
```

- [ ] Run ESLint on test file:

```bash
npx eslint test-temp/test.ts
```

Expected: Should show unused variable warning

- [ ] Run Prettier on test file:

```bash
npx prettier test-temp/test.ts
```

Expected: Should show formatted output with proper spacing

- [ ] Clean up test file:

```bash
rm -rf test-temp
```

## Verification Checklist

- [ ] `npm run lint` executes without errors
- [ ] `npm run lint:fix` executes without errors
- [ ] `npm run format:check` executes without errors
- [ ] `npm run format` executes without errors
- [ ] `npm run type-check` executes (no workspaces yet is OK)
- [ ] Test file showed both ESLint and Prettier working correctly
- [ ] No conflicts between ESLint and Prettier

## Troubleshooting

| Issue | Solution |
|-------|----------|
| `Command not found: eslint` | Run `npm install` to reinstall dependencies |
| `Command not found: prettier` | Run `npm install` to reinstall dependencies |
| ESLint and Prettier give conflicting advice | Ensure `eslint-config-prettier` is last in `.eslintrc.js` extends array |
| Scripts fail with workspace errors | Normal until workspaces are created in Step 3 |
| Type-check shows "no scripts found" | Expected - workspaces will add their own type-check scripts |

## Files Modified

- [ ] No new files (verification step only)

## What Comes Next

- Next step: Step 3 - Workspace Package Configuration
- All linting and formatting tools are now verified and working
- Step 2 (Linting & Formatting Configuration) is now complete
