# Step 2.2: Create Prettier Configuration

**Part of:** Step 2 from plan.md  
**Focus:** Configure Prettier for consistent code formatting  
**File to Create:** `.prettierrc.js` (root)  
**Estimated Time:** 10 minutes

## Overview

This substep creates the Prettier configuration that enforces consistent code formatting across all TypeScript, JavaScript, JSON, and Markdown files in the monorepo.

## Pre-Substep Checklist

- [ ] **Branch:** Working on `1.1-monorepo-init`
- [ ] **Prior Step:** Completed Step 2.1 (ESLint configured)
- [ ] **Verification:** `npx prettier --version` shows 3.2.5+

## Implementation

### Goal
Create .prettierrc.js with consistent formatting rules for the entire monorepo.

### Step-by-Step Instructions

#### Step 1: Create .prettierrc.js File
- [ ] Ensure you're in the project root directory
- [ ] Copy and paste the following content into `.prettierrc.js` at the root:

```javascript
module.exports = {
  // Basic formatting
  printWidth: 100,
  tabWidth: 2,
  useTabs: false,
  semi: true,
  singleQuote: true,
  quoteProps: 'as-needed',

  // JSX
  jsxSingleQuote: false,
  jsxBracketSameLine: false,

  // Trailing commas
  trailingComma: 'es5',

  // Spacing
  bracketSpacing: true,
  arrowParens: 'always',

  // Line endings
  endOfLine: 'lf',

  // File-specific overrides
  overrides: [
    {
      files: '*.md',
      options: {
        printWidth: 80,
        proseWrap: 'always',
      },
    },
    {
      files: '*.json',
      options: {
        printWidth: 80,
      },
    },
  ],
};
```

#### Step 2: Create .prettierignore File
- [ ] Create `.prettierignore` file at the root:

```gitignore
# Dependencies
node_modules

# Build outputs
dist
build
.next
out
coverage

# Lock files
package-lock.json
yarn.lock
pnpm-lock.yaml

# Generated files
*.tsbuildinfo

# Environment files
.env*

# OS files
.DS_Store
```

#### Step 3: Verify Prettier Configuration
- [ ] Test Prettier on a sample file (create temporary test):

```bash
echo "const x={a:1,b:2};" > test.js
npx prettier test.js
rm test.js
```

Expected output: Formatted code with proper spacing

- [ ] Run Prettier format check (will pass since no source files yet):

```bash
npm run format:check
```

Expected output: All files passed formatting check

## Verification Checklist

- [ ] File saved in correct location: `.prettierrc.js` (at project root)
- [ ] File saved in correct location: `.prettierignore` (at project root)
- [ ] `npm run format:check` executes without errors
- [ ] Test formatting works correctly
- [ ] Prettier uses 2-space indentation, single quotes, semicolons

## Troubleshooting

| Issue | Solution |
|-------|----------|
| `Prettier is not installed` | Run `npm install` to ensure Prettier was installed in Step 1.1 |
| Files are being formatted incorrectly | Check `.prettierrc.js` syntax, ensure it's valid JavaScript |
| `.prettierignore` not working | Ensure file has no extension (not `.prettierignore.txt`) |
| Conflicts with ESLint | Ensure `eslint-config-prettier` is installed and last in ESLint extends |

## Files Modified

- [ ] ✅ Created: `.prettierrc.js` (root)
- [ ] ✅ Created: `.prettierignore` (root)

## What Comes Next

- Next substep: Step 2.3 - Update package.json scripts (verify all scripts work)
- Prettier is now configured to work alongside ESLint
