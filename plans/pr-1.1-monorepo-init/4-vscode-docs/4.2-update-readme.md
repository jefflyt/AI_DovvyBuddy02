# Step 4.2: Update Root README.md

**Part of:** Step 4 from plan.md  
**Focus:** Update README with comprehensive setup instructions for the monorepo  
**File to Edit:** `README.md` (root)  
**Estimated Time:** 15 minutes

## Overview

This substep updates the root README.md with detailed setup instructions, workspace structure explanation, available npm scripts, and environment variable configuration guide.

## Pre-Substep Checklist

- [ ] **Branch:** Working on `1.1-monorepo-init`
- [ ] **Prior Step:** Completed Step 4.1 (VS Code settings created)
- [ ] **File Exists:** `README.md` at project root

## Implementation

### Goal
Replace existing README with comprehensive monorepo setup documentation.

### Step-by-Step Instructions

#### Step 1: Backup Existing README
- [ ] Create backup of existing README (optional):

```bash
cp README.md README.md.backup
```

#### Step 2: Replace README.md Content
- [ ] Replace the entire content of `README.md` with:

```markdown
# DovvyDive - AI-Powered Dive Trip Planner

DovvyDive is an AI-powered dive trip planning platform that helps scuba divers discover, plan, and organize dive trips across Malaysia using a conversational AI chatbot powered by Google Gemini 2.5 Flash.

## üöÄ Quick Start

### Prerequisites

- **Node.js**: 20+ (check with `node --version`)
- **npm**: 10+ (check with `npm --version`)
- **Git**: Latest version

### Installation

1. **Clone the repository:**

```bash
git clone <repository-url>
cd AI_DovvyBuddy02
```

2. **Install dependencies:**

```bash
npm install
```

This will install all dependencies for the monorepo and link the workspaces.

3. **Set up environment variables:**

```bash
# Backend
cp src/backend/.env.example src/backend/.env
# Edit src/backend/.env with your actual API keys

# Frontend
cp src/frontend/.env.local.example src/frontend/.env.local
# Edit src/frontend/.env.local with your configuration
```

4. **Verify installation:**

```bash
npm run type-check
npm run lint
```

## üìÅ Project Structure

This is a TypeScript monorepo using npm workspaces:

```
AI_DovvyBuddy02/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ frontend/        # Next.js 14 frontend application
‚îÇ   ‚îú‚îÄ‚îÄ backend/         # Express.js backend API
‚îÇ   ‚îî‚îÄ‚îÄ shared/          # Shared types and utilities
‚îú‚îÄ‚îÄ docs/                # Documentation (PSD, TDD, plans)
‚îú‚îÄ‚îÄ plans/               # PR-level implementation plans
‚îú‚îÄ‚îÄ .github/             # GitHub workflows and Copilot prompts
‚îú‚îÄ‚îÄ package.json         # Root workspace configuration
‚îú‚îÄ‚îÄ tsconfig.json        # Base TypeScript configuration
‚îú‚îÄ‚îÄ .eslintrc.js         # ESLint configuration
‚îî‚îÄ‚îÄ .prettierrc.js       # Prettier configuration
```

### Workspaces

- **@dovvydive/frontend**: Next.js 14 application with App Router, Tailwind CSS, and Zustand
- **@dovvydive/backend**: Express.js API with Prisma ORM and Google ADK integration
- **@dovvydive/shared**: Common types and utilities shared between frontend and backend

## üõ†Ô∏è Available Scripts

Run these commands from the **project root**:

### Development

```bash
# Run all linters
npm run lint

# Fix linting issues automatically
npm run lint:fix

# Format all code
npm run format

# Check formatting (CI)
npm run format:check

# Type-check all workspaces
npm run type-check

# Clean all dependencies
npm run clean

# Clean all build outputs
npm run clean:build
```

### Workspace-Specific Commands

```bash
# Frontend development
cd src/frontend
npm run dev          # Start Next.js dev server (http://localhost:3000)
npm run build        # Build for production
npm run start        # Start production server

# Backend development
cd src/backend
npm run dev          # Start Express dev server with hot reload (http://localhost:3001)
npm run build        # Compile TypeScript
npm run start        # Start production server

# Shared
cd src/shared
npm run type-check   # Type-check shared types
```

## üîß Configuration

### TypeScript

- **Base config**: `tsconfig.json` (root)
- **Workspace configs**: Extend the base config
- **Path aliases**: `@shared/*` maps to `src/shared/*`

### ESLint

- **Config**: `.eslintrc.js`
- **Overrides**:
  - Frontend: Next.js rules
  - Backend: Node.js rules
  - Shared: Both environments

### Prettier

- **Config**: `.prettierrc.js`
- **Settings**: 2-space indent, single quotes, semicolons, trailing commas

### VS Code

Recommended extensions will be suggested on first open:
- ESLint
- Prettier
- Tailwind CSS IntelliSense
- Prisma

Settings are pre-configured for:
- Format on save
- ESLint auto-fix on save
- TypeScript workspace version

## üîë Environment Variables

### Backend (`src/backend/.env`)

```bash
# Server
NODE_ENV=development
PORT=3001
HOST=localhost

# Database (Neon PostgreSQL)
DATABASE_URL=postgresql://user:password@host:5432/database

# Google AI Services
GOOGLE_API_KEY=your_google_api_key
GOOGLE_MAPS_KEY=your_google_maps_key

# External APIs
WEATHER_API_KEY=your_weather_api_key

# Security
JWT_SECRET=your_jwt_secret_min_32_chars
CORS_ORIGIN=http://localhost:3000
```

### Frontend (`src/frontend/.env.local`)

```bash
# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1

# Google Maps (client-side)
NEXT_PUBLIC_GOOGLE_MAPS_KEY=your_google_maps_key

# Environment
NEXT_PUBLIC_APP_ENV=development
```

**‚ö†Ô∏è Never commit `.env` or `.env.local` files to version control!**

## üß™ Testing

```bash
# Type checking (all workspaces)
npm run type-check

# Linting (all files)
npm run lint

# Format checking
npm run format:check
```

## üìö Development Workflow

This repository uses an AI-driven development workflow. See:
- `AI_WORKFLOW.md` - Full workflow guide
- `.github/prompts/` - Custom Copilot prompts
- `docs/` - Product specifications and technical design
- `plans/` - Implementation plans for each PR

### Typical Workflow

1. Review PSD and TDD in `docs/`
2. Check master plan in `docs/plans/`
3. Find PR plan in `plans/{pr-name}/`
4. Follow step-by-step implementation guides
5. Run tests and verification after each step

## ü§ù Contributing

1. Create a feature branch from `main`
2. Follow the PR plan in `plans/`
3. Ensure all tests pass (`npm run type-check` and `npm run lint`)
4. Format code (`npm run format`)
5. Open PR with clear description

## üìñ Documentation

- **Product Spec**: `docs/psd/dovvydive-psd.md`
- **Technical Design**: `docs/tdd/dovvydive-tdd.md`
- **Master Plan**: `docs/plans/dovvydive/master_plan.md`
- **PR Plans**: `plans/{pr-name}/plan.md`

## üîó Tech Stack

- **Frontend**: Next.js 14, React 18, TypeScript, Tailwind CSS, Zustand
- **Backend**: Node.js 20, Express, TypeScript, Prisma, Zod
- **AI**: Google Gemini 2.5 Flash, Google ADK
- **Database**: Neon PostgreSQL with pgvector
- **Deployment**: Vercel (frontend), Render (backend)

## üìù License

Private - All Rights Reserved

## üôã Support

For questions or issues, contact the development team or open an issue in the repository.

---

**Status**: MVP Development - PR 1.1 Complete ‚úÖ
```

#### Step 3: Verify README Formatting
- [ ] Run Prettier on README:

```bash
npm run format
```

- [ ] Verify README is properly formatted

#### Step 4: Test README Instructions
- [ ] Verify all command examples in README work:

```bash
npm run lint
npm run type-check
npm run format:check
```

All should execute without errors.

## Verification Checklist

- [ ] File updated: `README.md` (at project root)
- [ ] README includes setup instructions
- [ ] README documents all npm scripts
- [ ] README explains workspace structure
- [ ] README lists environment variables
- [ ] README formatted by Prettier
- [ ] All command examples tested and working

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Prettier changes README formatting | This is expected - accept the Prettier formatting |
| Links in README not working | Check that all file paths are relative to project root |
| Commands in README fail | Verify all prior steps completed successfully |

## Files Modified

- [ ] ‚úÖ Updated: `README.md` (replaced AI workflow README with monorepo setup guide)
- [ ] ‚úÖ Optional: `README.md.backup` (backup of original README)

## What Comes Next

- Final step: Verify entire PR 1.1 implementation
- README is now comprehensive guide for new developers
- Step 4 (VS Code Workspace Settings & Documentation) is now complete
- All 4 steps of PR 1.1 are now complete!
